!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require(void 0),require("TweenMax"),require("lodash")):"function"==typeof define&&define.amd?define(["signals","TweenMax","lodash"],t):"object"==typeof exports?exports.Core=t(require("./signals"),require("TweenMax"),require("lodash")):(e.TweenTime=e.TweenTime||{},e.TweenTime.Core=t(e.signals,e.TweenMax,e._))}(this,function(e,t,n){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(1);var s=n(2),o=i(s),u=n(3),l=i(u),f=n(5),c=i(f),p=n(7),h=function(){function e(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];r(this,e),this.data=t,this.timer=new l["default"](n),this.orchestrator=new c["default"](this.timer,this.data)}return a(e,[{key:"getItem",value:function(e){return e&&"object"==typeof e?e:p.find(this.data,function(t){return t.id==e})}},{key:"getProperty",value:function(e,t){return t=this.getItem(t),t?p.find(t.properties,function(t){return t.name==e}):!1}},{key:"getValues",value:function(e){return e=this.getItem(e),e?e.values:void 0}},{key:"getValue",value:function(e,t){var n=this.getValues(t);return n&&void 0!==n[e]?n[e]:void 0}},{key:"getKeyAt",value:function(e,t){return p.find(e.keys,function(e){return e.time==t})}},{key:"setValue",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];n===!1&&(n=this.timer.getCurrentTime()/1e3);var i=this.getKeyAt(e,n);i?i.val=t:0===e.keys.length?e.val=t:(i={val:t,time:n,_property:e},e.keys.push(i),e.keys=o["default"].sortKeys(e.keys))}},{key:"getTotalDuration",value:function(){return this.orchestrator.getTotalDuration()}}]),e}();e.exports=h},function(e,t){(function(e){!function(e){var t=e.to5Runtime={};t["extends"]=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),e.__proto__=t},t.classProps=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},t.applyConstructor=function(e,t){var n=Object.create(e.prototype),i=e.apply(n,t);return null==i||"object"!=typeof i&&"function"!=typeof i?n:i},t.taggedTemplateLiteral=function(e,t){return Object.defineProperties(e,{raw:{value:t}})},t.interopRequire=function(e){return e&&(e["default"]||e)},t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},t.objectSpread=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},t.hasOwn=Object.prototype.hasOwnProperty,t.slice=Array.prototype.slice}("undefined"==typeof e?self:e)}).call(t,function(){return this}())},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){n(this,e)}return i(e,null,[{key:"formatMinutes",value:function(e){e/=1e3;var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),i=e-60*n,r=i+"s";return n&&(r=n+"m "+r),t&&(r=t+"h "+r),r}},{key:"getClosestTime",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],i=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],r=arguments.length<=4||void 0===arguments[4]?!1:arguments[4],a=arguments.length<=5||void 0===arguments[5]?.1:arguments[5];if(r){var s=r.getCurrentTime()/1e3;if(Math.abs(s-t)<=a)return s}if(n||i)for(var o=0;o<e.length;o++){var u=e[o];if(u.id!=n||i){if(Math.abs(u.start-t)<=a)return u.start;if(Math.abs(u.end-t)<=a)return u.end}for(var l=0;l<u.properties.length;l++){var f=u.properties[l];if(f.keys&&(u.id!=n||f.name!=i))for(var c=0;c<f.keys.length;c++){var p=f.keys[c];if(Math.abs(p.time-t)<=a)return p.time}}}return!1}},{key:"getPreviousKey",value:function(e,t){for(var n=!1,i=0;i<e.length;i++){var r=e[i];if(!(r.time<t))return n;n=r}return n}},{key:"sortKeys",value:function(e){var t=function(e,t){return e.time<t.time?-1:e.time>t.time?1:0};return e.sort(t)}},{key:"guid",value:function(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}]),e}();t["default"]=r,e.exports=t["default"]},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(4),s=function(){function e(){var t=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e),this.totalDuration=n.totalDuration||24e4,this.time=[0],this.is_playing=!1,this.last_timeStamp=-1,this.last_time=-1,this.updated=new a.Signal,this.statusChanged=new a.Signal,this.durationChanged=new a.Signal,this.seeked=new a.Signal,window.requestAnimationFrame(function(e){return t.update(e)})}return r(e,[{key:"getCurrentTime",value:function(){return this.time[0]}},{key:"getDuration",value:function(){return this.totalDuration/1e3}},{key:"setDuration",value:function(e){this.totalDuration=1e3*e,this.durationChanged.dispatch(e)}},{key:"play",value:function(){this.is_playing=!0,this.statusChanged.dispatch(this.is_playing)}},{key:"stop",value:function(){this.is_playing=!1,this.statusChanged.dispatch(this.is_playing)}},{key:"toggle",value:function(){this.is_playing=!this.is_playing,this.statusChanged.dispatch(this.is_playing)}},{key:"seek",value:function(e){this.time[0]=e[0],this.seeked.dispatch(this.time[0])}},{key:"update",value:function(e){var t=this;-1==this.last_timeStamp&&(this.last_timeStamp=e);var n=e-this.last_timeStamp;this.is_playing&&(this.time[0]+=n),this.time[0]>=this.totalDuration&&(this.time[0]=this.totalDuration,this.stop()),this.updated.dispatch(this.time[0]),this.last_timeStamp=e,this.last_time=this.time[0],window.requestAnimationFrame(function(e){return t.update(e)})}}]),e}();t["default"]=s,e.exports=t["default"]},function(t,n){t.exports=e},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(4),s=n(6),o=function(){function e(t,n){i(this,e),this.update=this.update.bind(this),this.timer=t,this.data=n,this.mainTimeline=new TimelineMax({paused:!0}),this.onUpdate=new a.Signal,this.timer.updated.add(this.update),this.update(0)}return r(e,[{key:"getTotalDuration",value:function(){return this.mainTimeline.totalDuration()}},{key:"getEasing",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];if(e&&e.ease){var t=e.ease.split(".");if(2==t.length&&window[t[0]]&&window[t[0]][t[1]])return window[t[0]][t[1]]}return Quad.easeOut}},{key:"initSpecialProperties",value:function(e){e._domHelper=document.createElement("div");for(var t=0;t<e.properties.length;t++){var n=e.properties[t];n.type&&"color"==n.type&&(n.css=!0),n.css&&(e._domHelper.style[n.name]=n.val)}}},{key:"initItemValues",value:function(e){e.values={};for(var t=0;t<e.properties.length;t++){var n=e.properties[t];n.keys.length&&(n.val=n.keys[0].val),e.values[n.name]=n.val}}},{key:"update",value:function(e){var t,n,i,r,a=e/1e3,o=!1;for(t=0;t<this.data.length;t++)if(n=this.data[t],n._domHelper||this.initSpecialProperties(n),n.values||this.initItemValues(n),n._timeline||(n._timeline=new TimelineMax,this.mainTimeline.add(n._timeline,0),n._isDirty=!0),n._isDirty&&(o=!0),n._timeline&&n._isDirty&&n.properties){for(n._isDirty=!1,r=0;r<n.properties.length;r++){i=n.properties[r],i._timeline?i._timeline.clear():(i._timeline=new TimelineMax,n._timeline.add(i._timeline,0));var u=i._timeline,l=i.name;if(i.keys.length){var f=n.values,c=i.keys[0],p=0;c&&(p=Math.min(-1,c.time-.1));var h=0,m={},d=this.getEasing();m.ease=d,i.css?(f=n._domHelper,m.css={},m.css[l]=c?c.val:i.val):m[l]=c?c.val:i.val;var v=s.to(f,h,m);u.add(v,p);for(var g=0;g<i.keys.length;g++){var y=i.keys[g];if(g<i.keys.length-1){var k=i.keys[g+1];h=k.time-y.time,m={},d=this.getEasing(k),m.ease=d,i.css?(m.css={},m.css[l]=k.val):m[l]=k.val,v=s.to(f,h,m),u.add(v,y.time)}}u.seek(a)}else n.values[i.name]=i.val}a>0?a-=1e-7:a+=1e-7}for(this.mainTimeline.seek(a),t=0;t<this.data.length;t++)for(n=this.data[t],r=0;r<n.properties.length;r++)i=n.properties[r],i.css&&i.keys.length&&(n.values[i.name]=n._domHelper.style[i.name]);o&&this.onUpdate.dispatch()}}]),e}();t["default"]=o,e.exports=t["default"]},function(e,n){e.exports=t},function(e,t){e.exports=n}])});
//# sourceMappingURL=TweenTime.Core.min.js.map