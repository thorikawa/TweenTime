{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///TweenTime.Core.min.js","webpack:///webpack/bootstrap 77c2348108df7892830a","webpack:///./Core.js","webpack:///./core/Utils.js","webpack:///./core/Timer.js","webpack:///external {\"root\":\"signals\",\"commonjs\":\"./signals\",\"amd\":\"signals\"}","webpack:///./core/Orchestrator.js","webpack:///external {\"root\":\"TweenMax\",\"commonjs\":\"TweenMax\",\"commonjs2\":\"TweenMax\",\"amd\":\"TweenMax\"}","webpack:///external {\"root\":\"_\",\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\"}"],"names":["root","factory","exports","module","require","undefined","define","amd","this","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_5__","__WEBPACK_EXTERNAL_MODULE_6__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","_coreUtils","_coreUtils2","_coreTimer","_coreTimer2","_coreOrchestrator","_coreOrchestrator2","_","Core","data","options","arguments","timer","orchestrator","value","item_id","find","item","prop_name","item_id_or_obj","getItem","properties","property","name","values","getValues","time_in_seconds","keys","time","new_val","getCurrentTime","getKeyAt","val","_property","push","sortKeys","getTotalDuration","Utils","d","hours","Math","floor","minutes","seconds","output","objectId","property_name","tolerance","timer_time","abs","start","end","j","prop","k","prevKey","compare","a","b","sort","s4","random","toString","substring","Signals","Timer","_this","totalDuration","is_playing","last_timeStamp","last_time","updated","Signal","statusChanged","durationChanged","seeked","window","requestAnimationFrame","timestamp","update","dispatch","_this2","elapsed","stop","TweenMax","Orchestrator","bind","mainTimeline","TimelineMax","paused","onUpdate","add","ease","ease_index","split","Quad","easeOut","_domHelper","document","createElement","property_key","type","css","style","has_dirty_items","initSpecialProperties","initItemValues","_timeline","_isDirty","clear","propertyTimeline","propName","data_target","first_key","tween_time","min","tween_duration","easing","getEasing","tween","to","key_index","next_key","seek"],"mappings":"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","file":"TweenTime.Core.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(undefined), require(\"TweenMax\"), require(\"lodash\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"signals\", \"TweenMax\", \"lodash\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Core\"] = factory(require(\"./signals\"), require(\"TweenMax\"), require(\"lodash\"));\n\telse\n\t\troot[\"TweenTime\"] = root[\"TweenTime\"] || {}, root[\"TweenTime\"][\"Core\"] = factory(root[\"signals\"], root[\"TweenMax\"], root[\"_\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(undefined), require(\"TweenMax\"), require(\"lodash\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"signals\", \"TweenMax\", \"lodash\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Core\"] = factory(require(\"./signals\"), require(\"TweenMax\"), require(\"lodash\"));\n\telse\n\t\troot[\"TweenTime\"] = root[\"TweenTime\"] || {}, root[\"TweenTime\"][\"Core\"] = factory(root[\"signals\"], root[\"TweenMax\"], root[\"_\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar _coreUtils = __webpack_require__(1);\n\t\n\tvar _coreUtils2 = _interopRequireDefault(_coreUtils);\n\t\n\tvar _coreTimer = __webpack_require__(2);\n\t\n\tvar _coreTimer2 = _interopRequireDefault(_coreTimer);\n\t\n\tvar _coreOrchestrator = __webpack_require__(4);\n\t\n\tvar _coreOrchestrator2 = _interopRequireDefault(_coreOrchestrator);\n\t\n\tvar _ = __webpack_require__(6);\n\t\n\tvar Core = (function () {\n\t  function Core(data) {\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t    _classCallCheck(this, Core);\n\t\n\t    this.data = data;\n\t    this.timer = new _coreTimer2['default'](options);\n\t    this.orchestrator = new _coreOrchestrator2['default'](this.timer, this.data);\n\t  }\n\t\n\t  _createClass(Core, [{\n\t    key: 'getItem',\n\t    value: function getItem(item_id) {\n\t      // In case we passed the item object directly return it.\n\t      if (item_id && typeof item_id == 'object') {\n\t        return item_id;\n\t      }\n\t\n\t      return _.find(this.data, function (item) {\n\t        return item.id == item_id;\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getProperty',\n\t    value: function getProperty(prop_name, item_id_or_obj) {\n\t      // If we passed the item name get the object from it.\n\t      item_id_or_obj = this.getItem(item_id_or_obj);\n\t\n\t      // Return false if we have no item\n\t      if (!item_id_or_obj) {\n\t        return false;\n\t      }\n\t\n\t      return _.find(item_id_or_obj.properties, function (property) {\n\t        return property.name == prop_name;\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getValues',\n\t    value: function getValues(item_id_or_obj) {\n\t      // If we passed the item name get the object from it.\n\t      item_id_or_obj = this.getItem(item_id_or_obj);\n\t\n\t      // Return false if we have no item\n\t      if (!item_id_or_obj) {\n\t        return undefined;\n\t      }\n\t\n\t      return item_id_or_obj.values;\n\t    }\n\t  }, {\n\t    key: 'getValue',\n\t    value: function getValue(prop_name, item_id_or_obj) {\n\t      // If we passed the item name get the object from it.\n\t      var values = this.getValues(item_id_or_obj);\n\t\n\t      // Return false if we have no item\n\t      if (!values) {\n\t        return undefined;\n\t      }\n\t\n\t      if (values[prop_name] !== undefined) {\n\t        return values[prop_name];\n\t      } else {\n\t        return undefined;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getKeyAt',\n\t    value: function getKeyAt(property, time_in_seconds) {\n\t      return _.find(property.keys, function (key) {\n\t        return key.time == time_in_seconds;\n\t      });\n\t    }\n\t  }, {\n\t    key: 'setValue',\n\t    value: function setValue(property, new_val) {\n\t      var time_in_seconds = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];\n\t\n\t      if (time_in_seconds === false) {\n\t        time_in_seconds = this.timer.getCurrentTime() / 1000;\n\t      }\n\t      var key = this.getKeyAt(property, time_in_seconds);\n\t\n\t      if (key) {\n\t        // If we found a key, simply update the value.\n\t        key.val = new_val;\n\t      } else {\n\t        if (property.keys.length === 0) {\n\t          // If the property doesn't have any key simply the the value.\n\t          property.val = new_val;\n\t        } else {\n\t          // If we are not on a key but the property has other keys,\n\t          // create it and add it to the keys array.\n\t          key = { val: new_val, time: time_in_seconds, _property: property };\n\t          property.keys.push(key);\n\t          // Also sort the keys.\n\t          property.keys = _coreUtils2['default'].sortKeys(property.keys);\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getTotalDuration',\n\t    value: function getTotalDuration() {\n\t      return this.orchestrator.getTotalDuration();\n\t    }\n\t  }]);\n\t\n\t  return Core;\n\t})();\n\t\n\tmodule.exports = Core;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Utils = (function () {\n\t  function Utils() {\n\t    _classCallCheck(this, Utils);\n\t  }\n\t\n\t  _createClass(Utils, null, [{\n\t    key: \"formatMinutes\",\n\t    value: function formatMinutes(d) {\n\t      // convert milliseconds to seconds\n\t      d = d / 1000;\n\t      var hours = Math.floor(d / 3600);\n\t      var minutes = Math.floor((d - hours * 3600) / 60);\n\t      var seconds = d - minutes * 60;\n\t      var output = seconds + \"s\";\n\t      if (minutes) {\n\t        output = minutes + \"m \" + output;\n\t      }\n\t      if (hours) {\n\t        output = hours + \"h \" + output;\n\t      }\n\t      return output;\n\t    }\n\t  }, {\n\t    key: \"getClosestTime\",\n\t    value: function getClosestTime(data, time) {\n\t      var objectId = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];\n\t      var property_name = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t      var timer = arguments.length <= 4 || arguments[4] === undefined ? false : arguments[4];\n\t      var tolerance = arguments.length <= 5 || arguments[5] === undefined ? 0.1 : arguments[5];\n\t\n\t      if (timer) {\n\t        var timer_time = timer.getCurrentTime() / 1000;\n\t        if (Math.abs(timer_time - time) <= tolerance) {\n\t          return timer_time;\n\t        }\n\t      }\n\t\n\t      if (objectId || property_name) {\n\t        for (var i = 0; i < data.length; i++) {\n\t          var item = data[i];\n\t          // Don't match item with itself, but allow property to match item start/end.\n\t          if (item.id != objectId || property_name) {\n\t            // First check start & end.\n\t            if (Math.abs(item.start - time) <= tolerance) {\n\t              return item.start;\n\t            }\n\t\n\t            if (Math.abs(item.end - time) <= tolerance) {\n\t              return item.end;\n\t            }\n\t          }\n\t\n\t          // Test properties keys\n\t          for (var j = 0; j < item.properties.length; j++) {\n\t            var prop = item.properties[j];\n\t\n\t            // Don't match property with itself.\n\t            if (prop.keys && (item.id != objectId || prop.name != property_name)) {\n\t              for (var k = 0; k < prop.keys.length; k++) {\n\t                var key = prop.keys[k];\n\t                if (Math.abs(key.time - time) <= tolerance) {\n\t                  return key.time;\n\t                }\n\t              }\n\t            }\n\t          }\n\t        }\n\t      }\n\t      return false;\n\t    }\n\t  }, {\n\t    key: \"getPreviousKey\",\n\t    value: function getPreviousKey(keys, time) {\n\t      var prevKey = false;\n\t      for (var i = 0; i < keys.length; i++) {\n\t        var key = keys[i];\n\t        if (key.time < time) {\n\t          prevKey = key;\n\t        } else {\n\t          return prevKey;\n\t        }\n\t      }\n\t      return prevKey;\n\t    }\n\t  }, {\n\t    key: \"sortKeys\",\n\t    value: function sortKeys(keys) {\n\t      var compare = function compare(a, b) {\n\t        if (a.time < b.time) {\n\t          return -1;\n\t        }\n\t        if (a.time > b.time) {\n\t          return 1;\n\t        }\n\t        return 0;\n\t      };\n\t      return keys.sort(compare);\n\t    }\n\t  }, {\n\t    key: \"guid\",\n\t    value: function guid() {\n\t      var s4 = function s4() {\n\t        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n\t      };\n\t      return s4() + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + s4() + s4();\n\t    }\n\t  }]);\n\t\n\t  return Utils;\n\t})();\n\t\n\texports[\"default\"] = Utils;\n\tmodule.exports = exports[\"default\"];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar Signals = __webpack_require__(3);\n\t\n\tvar Timer = (function () {\n\t  function Timer() {\n\t    var _this = this;\n\t\n\t    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    _classCallCheck(this, Timer);\n\t\n\t    // in millisecond\n\t    this.totalDuration = options.totalDuration || 240 * 1000;\n\t    // Use an array for the time for easier d3.js integration (used as data for timeseeker).\n\t    this.time = [0];\n\t    this.is_playing = false;\n\t    this.last_timeStamp = -1;\n\t    this.last_time = -1;\n\t    this.updated = new Signals.Signal();\n\t    this.statusChanged = new Signals.Signal();\n\t    this.durationChanged = new Signals.Signal();\n\t    this.seeked = new Signals.Signal();\n\t    window.requestAnimationFrame(function (timestamp) {\n\t      return _this.update(timestamp);\n\t    });\n\t  }\n\t\n\t  _createClass(Timer, [{\n\t    key: 'getCurrentTime',\n\t    value: function getCurrentTime() {\n\t      return this.time[0];\n\t    }\n\t  }, {\n\t    key: 'getDuration',\n\t    value: function getDuration() {\n\t      return this.totalDuration / 1000;\n\t    }\n\t  }, {\n\t    key: 'setDuration',\n\t    value: function setDuration(seconds) {\n\t      this.totalDuration = seconds * 1000;\n\t      this.durationChanged.dispatch(seconds);\n\t    }\n\t  }, {\n\t    key: 'play',\n\t    value: function play() {\n\t      this.is_playing = true;\n\t      this.statusChanged.dispatch(this.is_playing);\n\t    }\n\t  }, {\n\t    key: 'stop',\n\t    value: function stop() {\n\t      this.is_playing = false;\n\t      this.statusChanged.dispatch(this.is_playing);\n\t    }\n\t  }, {\n\t    key: 'toggle',\n\t    value: function toggle() {\n\t      this.is_playing = !this.is_playing;\n\t      this.statusChanged.dispatch(this.is_playing);\n\t    }\n\t  }, {\n\t    key: 'seek',\n\t    value: function seek(time) {\n\t      this.time[0] = time[0];\n\t      this.seeked.dispatch(this.time[0]);\n\t    }\n\t  }, {\n\t    key: 'update',\n\t    value: function update(timestamp) {\n\t      var _this2 = this;\n\t\n\t      // Init timestamp\n\t      if (this.last_timeStamp == -1) {\n\t        this.last_timeStamp = timestamp;\n\t      }\n\t      var elapsed = timestamp - this.last_timeStamp;\n\t\n\t      if (this.is_playing) {\n\t        this.time[0] += elapsed;\n\t      }\n\t\n\t      if (this.time[0] >= this.totalDuration) {\n\t        // Stop timer when reaching the end.\n\t        this.time[0] = this.totalDuration;\n\t        this.stop();\n\t      }\n\t\n\t      this.updated.dispatch(this.time[0]);\n\t\n\t      this.last_timeStamp = timestamp;\n\t      this.last_time = this.time[0];\n\t      window.requestAnimationFrame(function (timestamp) {\n\t        return _this2.update(timestamp);\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return Timer;\n\t})();\n\t\n\texports['default'] = Timer;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar Signals = __webpack_require__(3);\n\tvar TweenMax = __webpack_require__(5);\n\t\n\tvar Orchestrator = (function () {\n\t  function Orchestrator(timer, data) {\n\t    _classCallCheck(this, Orchestrator);\n\t\n\t    this.update = this.update.bind(this);\n\t    this.timer = timer;\n\t    this.data = data;\n\t    this.mainTimeline = new TimelineMax({ paused: true });\n\t    this.onUpdate = new Signals.Signal();\n\t    this.timer.updated.add(this.update);\n\t    this.update(0);\n\t  }\n\t\n\t  _createClass(Orchestrator, [{\n\t    key: 'getTotalDuration',\n\t    value: function getTotalDuration() {\n\t      return this.mainTimeline.totalDuration();\n\t    }\n\t  }, {\n\t    key: 'getEasing',\n\t    value: function getEasing() {\n\t      var key = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];\n\t\n\t      if (key && key.ease) {\n\t        var ease_index = key.ease.split('.');\n\t        if (ease_index.length == 2 && window[ease_index[0]] && window[ease_index[0]][ease_index[1]]) {\n\t          return window[ease_index[0]][ease_index[1]];\n\t        }\n\t      }\n\t      return Quad.easeOut;\n\t    }\n\t  }, {\n\t    key: 'initSpecialProperties',\n\t    value: function initSpecialProperties(item) {\n\t      // Add a dom element for color tweening and other css properties.\n\t      item._domHelper = document.createElement('div');\n\t      for (var property_key = 0; property_key < item.properties.length; property_key++) {\n\t        var property = item.properties[property_key];\n\t        // Setup special properties\n\t        if (property.type && property.type == \"color\") {\n\t          // If the property is a color mark it as css\n\t          property.css = true;\n\t        }\n\t\n\t        if (property.css) {\n\t          // If property is a css or a color value apply it to the domHelper element.\n\t          item._domHelper.style[property.name] = property.val;\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'initItemValues',\n\t    value: function initItemValues(item) {\n\t      item.values = {};\n\t      //item._isDirty = true\n\t      for (var property_key = 0; property_key < item.properties.length; property_key++) {\n\t        var property = item.properties[property_key];\n\t        if (property.keys.length) {\n\t          // Take the value of the first key as initial value.\n\t          // this.todo: update this when the value of the first key change. (when rebuilding the timeline, simply delete item.values before item._timeline)\n\t          property.val = property.keys[0].val;\n\t        }\n\t        item.values[property.name] = property.val;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'update',\n\t    value: function update(timestamp) {\n\t      var seconds = timestamp / 1000;\n\t      var has_dirty_items = false;\n\t      var i, item, property, property_key;\n\t\n\t      for (i = 0; i < this.data.length; i++) {\n\t        item = this.data[i];\n\t        if (!item._domHelper) {\n\t          this.initSpecialProperties(item);\n\t        }\n\t\n\t        // create the values object to contain all properties\n\t        if (!item.values) {\n\t          this.initItemValues(item);\n\t        }\n\t\n\t        // Create the timeline if needed\n\t        if (!item._timeline) {\n\t          item._timeline = new TimelineMax();\n\t          this.mainTimeline.add(item._timeline, 0);\n\t          item._isDirty = true;\n\t        }\n\t\n\t        if (item._isDirty) {\n\t          has_dirty_items = true;\n\t        }\n\t\n\t        if (item._timeline && item._isDirty && item.properties) {\n\t          item._isDirty = false;\n\t          //item._timeline.clear();\n\t\n\t          for (property_key = 0; property_key < item.properties.length; property_key++) {\n\t            property = item.properties[property_key];\n\t            if (property._timeline) {\n\t              property._timeline.clear();\n\t            } else {\n\t              property._timeline = new TimelineMax();\n\t              item._timeline.add(property._timeline, 0);\n\t            }\n\t\n\t            var propertyTimeline = property._timeline;\n\t            var propName = property.name;\n\t\n\t            // If there is no key stop there and set value to default.\n\t            if (!property.keys.length) {\n\t              item.values[property.name] = property.val;\n\t              continue;\n\t            }\n\t\n\t            // Set the data values target object.\n\t            var data_target = item.values;\n\t            // Add a inital key, even if there is no animation to set the value from time 0.\n\t            var first_key = property.keys[0];\n\t\n\t            var tween_time = 0;\n\t            if (first_key) {\n\t              tween_time = Math.min(-1, first_key.time - 0.1);\n\t            }\n\t\n\t            var tween_duration = 0;\n\t            var val = {};\n\t            var easing = this.getEasing();\n\t            val.ease = easing;\n\t\n\t            if (property.css) {\n\t              data_target = item._domHelper;\n\t              val.css = {};\n\t              val.css[propName] = first_key ? first_key.val : property.val;\n\t            } else {\n\t              val[propName] = first_key ? first_key.val : property.val;\n\t            }\n\t\n\t            var tween = TweenMax.to(data_target, tween_duration, val);\n\t            propertyTimeline.add(tween, tween_time);\n\t\n\t            for (var key_index = 0; key_index < property.keys.length; key_index++) {\n\t              var key = property.keys[key_index];\n\t\n\t              if (key_index < property.keys.length - 1) {\n\t                var next_key = property.keys[key_index + 1];\n\t                tween_duration = next_key.time - key.time;\n\t\n\t                val = {};\n\t                easing = this.getEasing(next_key);\n\t                val.ease = easing;\n\t                if (property.css) {\n\t                  val.css = {};\n\t                  val.css[propName] = next_key.val;\n\t                } else {\n\t                  val[propName] = next_key.val;\n\t                }\n\t\n\t                tween = TweenMax.to(data_target, tween_duration, val);\n\t                propertyTimeline.add(tween, key.time);\n\t              }\n\t            }\n\t\n\t            // Directly seek the property timeline to update the value.\n\t            propertyTimeline.seek(seconds);\n\t          }\n\t          // Force main timeline to refresh but never try to go to < 0\n\t          // to prevent glitches when current time is 0.\n\t          if (seconds > 0) {\n\t            seconds = seconds - 0.0000001;\n\t          } else {\n\t            seconds = seconds + 0.0000001;\n\t          }\n\t        }\n\t      }\n\t\n\t      // Finally update the main timeline.\n\t      this.mainTimeline.seek(seconds);\n\t\n\t      // update the css properties.\n\t      for (i = 0; i < this.data.length; i++) {\n\t        item = this.data[i];\n\t        for (property_key = 0; property_key < item.properties.length; property_key++) {\n\t          property = item.properties[property_key];\n\t          if (property.css && property.keys.length) {\n\t            // Only css values.\n\t            item.values[property.name] = item._domHelper.style[property.name];\n\t          }\n\t        }\n\t      }\n\t\n\t      if (has_dirty_items) {\n\t        this.onUpdate.dispatch();\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Orchestrator;\n\t})();\n\t\n\texports['default'] = Orchestrator;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** TweenTime.Core.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 77c2348108df7892830a\n **/","var _ = require('lodash');\n\nimport Utils from './core/Utils';\nimport Timer from './core/Timer';\nimport Orchestrator from './core/Orchestrator';\n\nclass Core {\n  constructor(data, options = {}) {\n    this.data = data;\n    this.timer = new Timer(options);\n    this.orchestrator = new Orchestrator(this.timer, this.data);\n  }\n\n  getItem(item_id) {\n    // In case we passed the item object directly return it.\n    if (item_id && typeof item_id == 'object') {\n      return item_id;\n    }\n\n    return _.find(this.data, (item) => item.id == item_id);\n  }\n\n  getProperty(prop_name, item_id_or_obj) {\n    // If we passed the item name get the object from it.\n    item_id_or_obj = this.getItem(item_id_or_obj);\n\n    // Return false if we have no item\n    if (!item_id_or_obj) {\n      return false;\n    }\n\n    return _.find(item_id_or_obj.properties, property => property.name == prop_name);\n  }\n\n  getValues(item_id_or_obj) {\n    // If we passed the item name get the object from it.\n    item_id_or_obj = this.getItem(item_id_or_obj);\n\n    // Return false if we have no item\n    if (!item_id_or_obj) {\n      return undefined;\n    }\n\n    return item_id_or_obj.values;\n  }\n\n  getValue(prop_name, item_id_or_obj) {\n    // If we passed the item name get the object from it.\n    var values = this.getValues(item_id_or_obj);\n\n    // Return false if we have no item\n    if (!values) {\n      return undefined;\n    }\n\n    if (values[prop_name] !== undefined) {\n      return values[prop_name];\n    }\n    else {\n      return undefined;\n    }\n  }\n\n  getKeyAt(property, time_in_seconds) {\n    return _.find(property.keys, key => key.time == time_in_seconds);\n  }\n\n  setValue(property, new_val, time_in_seconds = false) {\n    if (time_in_seconds === false) {\n      time_in_seconds = this.timer.getCurrentTime() / 1000;\n    }\n    var key = this.getKeyAt(property, time_in_seconds);\n\n    if (key) {\n      // If we found a key, simply update the value.\n      key.val = new_val;\n    }\n    else {\n      if (property.keys.length === 0) {\n        // If the property doesn't have any key simply the the value.\n        property.val = new_val;\n      }\n      else {\n        // If we are not on a key but the property has other keys,\n        // create it and add it to the keys array.\n        key = {val: new_val, time: time_in_seconds, _property: property};\n        property.keys.push(key);\n        // Also sort the keys.\n        property.keys = Utils.sortKeys(property.keys);\n      }\n    }\n  }\n\n  getTotalDuration() {\n    return this.orchestrator.getTotalDuration();\n  }\n}\n\nmodule.exports = Core;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Core.js\n **/","export default class Utils {\n  static formatMinutes(d) {\n    // convert milliseconds to seconds\n    d = d / 1000;\n    var hours = Math.floor(d / 3600);\n    var minutes = Math.floor((d - (hours * 3600)) / 60);\n    var seconds = d - (minutes * 60);\n    var output = seconds + \"s\";\n    if (minutes) {\n      output = minutes + \"m \" + output;\n    }\n    if (hours) {\n      output = hours + \"h \" + output;\n    }\n    return output;\n  }\n\n  static getClosestTime(data, time, objectId = false, property_name = false, timer = false, tolerance = 0.1) {\n    if (timer) {\n      var timer_time = timer.getCurrentTime() / 1000;\n      if (Math.abs(timer_time - time) <= tolerance) {\n        return timer_time;\n      }\n    }\n\n    if (objectId || property_name) {\n      for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        // Don't match item with itself, but allow property to match item start/end.\n        if (item.id != objectId || property_name) {\n          // First check start & end.\n          if (Math.abs(item.start - time) <= tolerance) {\n            return item.start;\n          }\n\n          if (Math.abs(item.end - time) <= tolerance) {\n            return item.end;\n          }\n        }\n\n        // Test properties keys\n        for (var j = 0; j < item.properties.length; j++) {\n          var prop = item.properties[j];\n\n          // Don't match property with itself.\n          if (prop.keys && (item.id != objectId || prop.name != property_name)) {\n            for (var k = 0; k < prop.keys.length; k++) {\n              var key = prop.keys[k];\n              if (Math.abs(key.time - time) <= tolerance) {\n                return key.time;\n              }\n            }\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  static getPreviousKey(keys, time) {\n    var prevKey = false;\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (key.time < time) {\n        prevKey = key;\n      }\n      else {\n        return prevKey;\n      }\n    }\n    return prevKey;\n  }\n\n  static sortKeys(keys) {\n    var compare = function (a, b) {\n      if (a.time < b.time) {\n        return -1;\n      }\n      if (a.time > b.time) {\n        return 1;\n      }\n      return 0;\n    };\n    return keys.sort(compare);\n  }\n\n  static guid() {\n    var s4 = function() {\n      return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n    };\n    return s4() + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + s4() + s4();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Utils.js\n **/","let Signals = require('js-signals');\n\nexport default class Timer {\n  constructor (options = {}) {\n    // in millisecond\n    this.totalDuration = options.totalDuration || 240 * 1000;\n    // Use an array for the time for easier d3.js integration (used as data for timeseeker).\n    this.time = [0];\n    this.is_playing = false;\n    this.last_timeStamp = -1;\n    this.last_time = -1;\n    this.updated = new Signals.Signal();\n    this.statusChanged = new Signals.Signal();\n    this.durationChanged = new Signals.Signal();\n    this.seeked = new Signals.Signal();\n    window.requestAnimationFrame((timestamp) => this.update(timestamp));\n  }\n\n  getCurrentTime() {\n    return this.time[0];\n  }\n\n  getDuration() {\n    return this.totalDuration / 1000;\n  }\n\n  setDuration(seconds) {\n    this.totalDuration = seconds * 1000;\n    this.durationChanged.dispatch(seconds);\n  }\n\n  play() {\n    this.is_playing = true;\n    this.statusChanged.dispatch(this.is_playing);\n  }\n\n  stop() {\n    this.is_playing = false;\n    this.statusChanged.dispatch(this.is_playing);\n  }\n\n  toggle() {\n    this.is_playing = !this.is_playing;\n    this.statusChanged.dispatch(this.is_playing);\n  }\n\n  seek(time) {\n    this.time[0] = time[0];\n    this.seeked.dispatch(this.time[0]);\n  }\n\n  update(timestamp) {\n    // Init timestamp\n    if (this.last_timeStamp == -1) {\n      this.last_timeStamp = timestamp;\n    }\n    var elapsed = timestamp - this.last_timeStamp;\n\n    if (this.is_playing) {\n      this.time[0] += elapsed;\n    }\n\n    if (this.time[0] >= this.totalDuration) {\n      // Stop timer when reaching the end.\n      this.time[0] = this.totalDuration;\n      this.stop();\n    }\n\n    this.updated.dispatch(this.time[0]);\n\n    this.last_timeStamp = timestamp;\n    this.last_time = this.time[0];\n    window.requestAnimationFrame((timestamp) => this.update(timestamp));\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Timer.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"signals\",\"commonjs\":\"./signals\",\"amd\":\"signals\"}\n ** module id = 3\n ** module chunks = 0 1\n **/","let Signals = require('js-signals');\nlet TweenMax = require('gsap');\n\nexport default class Orchestrator {\n  constructor(timer, data) {\n    this.update = this.update.bind(this);\n    this.timer = timer;\n    this.data = data;\n    this.mainTimeline = new TimelineMax({paused: true});\n    this.onUpdate = new Signals.Signal();\n    this.timer.updated.add(this.update);\n    this.update(0);\n  }\n\n  getTotalDuration() {\n    return this.mainTimeline.totalDuration();\n  }\n\n  getEasing(key = false) {\n    if (key && key.ease) {\n      var ease_index = key.ease.split('.');\n      if (ease_index.length == 2 && window[ease_index[0]] && window[ease_index[0]][ease_index[1]]) {\n        return window[ease_index[0]][ease_index[1]];\n      }\n    }\n    return Quad.easeOut;\n  }\n\n  initSpecialProperties(item) {\n    // Add a dom element for color tweening and other css properties.\n    item._domHelper = document.createElement('div');\n    for (var property_key = 0; property_key < item.properties.length; property_key++) {\n      var property = item.properties[property_key];\n      // Setup special properties\n      if (property.type && property.type == \"color\") {\n        // If the property is a color mark it as css\n        property.css = true;\n      }\n\n      if (property.css) {\n        // If property is a css or a color value apply it to the domHelper element.\n        item._domHelper.style[property.name] = property.val;\n      }\n    }\n  }\n\n  initItemValues(item) {\n    item.values = {};\n    //item._isDirty = true\n    for (var property_key = 0; property_key < item.properties.length; property_key++) {\n      var property = item.properties[property_key];\n      if (property.keys.length) {\n        // Take the value of the first key as initial value.\n        // this.todo: update this when the value of the first key change. (when rebuilding the timeline, simply delete item.values before item._timeline)\n        property.val = property.keys[0].val;\n      }\n      item.values[property.name] = property.val;\n    }\n  }\n\n  update(timestamp) {\n    var seconds = timestamp / 1000;\n    var has_dirty_items = false;\n    var i, item, property, property_key;\n\n    for (i = 0; i < this.data.length; i++) {\n      item = this.data[i];\n      if (!item._domHelper) {\n        this.initSpecialProperties(item);\n      }\n\n      // create the values object to contain all properties\n      if (!item.values) {\n        this.initItemValues(item);\n      }\n\n      // Create the timeline if needed\n      if (!item._timeline) {\n        item._timeline = new TimelineMax();\n        this.mainTimeline.add(item._timeline, 0);\n        item._isDirty = true;\n      }\n\n      if (item._isDirty) {\n        has_dirty_items = true;\n      }\n\n      if (item._timeline && item._isDirty && item.properties) {\n        item._isDirty = false;\n        //item._timeline.clear();\n\n        for (property_key = 0; property_key < item.properties.length; property_key++) {\n          property = item.properties[property_key];\n          if (property._timeline) {\n            property._timeline.clear();\n          }\n          else {\n            property._timeline = new TimelineMax();\n            item._timeline.add(property._timeline, 0);\n          }\n\n          var propertyTimeline = property._timeline;\n          var propName = property.name;\n\n          // If there is no key stop there and set value to default.\n          if (!property.keys.length) {\n            item.values[property.name] = property.val;\n            continue;\n          }\n\n          // Set the data values target object.\n          var data_target = item.values;\n          // Add a inital key, even if there is no animation to set the value from time 0.\n          var first_key = property.keys[0];\n\n          var tween_time = 0;\n          if (first_key) {\n            tween_time = Math.min(-1, first_key.time - 0.1);\n          }\n\n          var tween_duration = 0;\n          var val = {};\n          var easing = this.getEasing();\n          val.ease = easing;\n\n          if (property.css) {\n            data_target = item._domHelper;\n            val.css = {};\n            val.css[propName] = first_key ? first_key.val : property.val;\n          }\n          else {\n            val[propName] = first_key ? first_key.val : property.val;\n          }\n\n          var tween = TweenMax.to(data_target, tween_duration, val);\n          propertyTimeline.add(tween, tween_time);\n\n          for (var key_index = 0; key_index < property.keys.length; key_index++) {\n            var key = property.keys[key_index];\n\n            if (key_index < property.keys.length - 1) {\n              var next_key = property.keys[key_index + 1];\n              tween_duration = next_key.time - key.time;\n\n              val = {};\n              easing = this.getEasing(next_key);\n              val.ease = easing;\n              if (property.css) {\n                val.css = {};\n                val.css[propName] = next_key.val;\n              }\n              else {\n                val[propName] = next_key.val;\n              }\n\n              tween = TweenMax.to(data_target, tween_duration, val);\n              propertyTimeline.add(tween, key.time);\n            }\n          }\n\n          // Directly seek the property timeline to update the value.\n          propertyTimeline.seek(seconds);\n        }\n        // Force main timeline to refresh but never try to go to < 0\n        // to prevent glitches when current time is 0.\n        if (seconds > 0) {\n          seconds = seconds - 0.0000001;\n        }\n        else {\n          seconds = seconds + 0.0000001;\n        }\n      }\n    }\n\n    // Finally update the main timeline.\n    this.mainTimeline.seek(seconds);\n\n    // update the css properties.\n    for (i = 0; i < this.data.length; i++) {\n      item = this.data[i];\n      for (property_key = 0; property_key < item.properties.length; property_key++) {\n        property = item.properties[property_key];\n        if (property.css && property.keys.length) {\n          // Only css values.\n          item.values[property.name] = item._domHelper.style[property.name];\n        }\n      }\n    }\n\n    if (has_dirty_items) {\n      this.onUpdate.dispatch();\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Orchestrator.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"TweenMax\",\"commonjs\":\"TweenMax\",\"commonjs2\":\"TweenMax\",\"amd\":\"TweenMax\"}\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"_\",\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\"}\n ** module id = 6\n ** module chunks = 0 1\n **/"],"sourceRoot":""}